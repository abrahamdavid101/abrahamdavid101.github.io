    <!DOCTYPE html>
    <template>
      <div id="notificationsContainer">
        <div id="notificationsList" class="grid gap-4 p-2">
          <div v-if="!notifications || notifications.length === 0" :class="[isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200', 'p-4 rounded-lg shadow-sm border transition-all duration-200']">
            <div class="font-semibold text-base flex items-center gap-2">📭 No Notifications</div>
            <div :class="[isDarkMode ? 'bg-gray-700' : 'bg-gray-200', 'h-px my-2']"></div>
            <div class="text-sm leading-relaxed">Check back later</div>
          </div>
          <div v-for="notification in notifications" :key="notification.timestamp" :class="[isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200', 'p-4 rounded-lg shadow-sm border transition-all duration-200']">
            <div class="font-semibold text-base flex items-center gap-2">{{ getNotificationIcon(notification.message) }} Morphiq Status</div>
            <div :class="[isDarkMode ? 'bg-gray-700' : 'bg-gray-200', 'h-px my-2']"></div>
            <div class="text-sm leading-relaxed">{{ notification.message }}</div>
            <div :class="[isDarkMode ? 'bg-gray-700' : 'bg-gray-200', 'h-px my-2']"></div>
            <div class="text-xs opacity-70">{{ formatDate(notification.timestamp) }}</div>
          </div>
        </div>
      </div>
    </template>

    <script setup>
    import { ref, onMounted, onUnmounted } from 'vue';

    const notifications = ref([]);
    const isDarkMode = ref(localStorage.getItem('darkMode') === 'true');

    const getNotificationIcon = (message) => {
      if (message.toLowerCase().includes('welcome')) return '👋';
      if (message.toLowerCase().includes('congratulations')) return '🎉';
      if (message.toLowerCase().includes('success')) return '✅';
      if (message.toLowerCase().includes('error')) return '⚠️';
      if (message.toLowerCase().includes('update')) return '📢';
      return '📌';
    };

    const formatDate = (timestamp) => {
      return new Date(timestamp).toLocaleString('en-US', {
        dateStyle: 'medium',
        timeStyle: 'short'
      });
    };

    const fetchNotifications = async () => {
      const email = localStorage.getItem('userEmail');
      document.body.className = isDarkMode.value ? 'bg-gray-900 text-white' : 'bg-gray-100 text-gray-800';

      try {
        const response = await fetch('https://swifttech-server.onrender.com/notifications', {
          method: 'POST',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify({ email })
        });

        notifications.value = await response.json();

        await fetch('https://swifttech-server.onrender.com/notifications-clear', {
          method: 'POST',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify({ email })
        });
        document.getElementById('notification-badge')?.classList.add('hidden');
      } catch (error) {
        notifications.value = [{
          message: 'Error loading notifications',
          timestamp: new Date(),
          error: true
        }];
      }
    };

    let interval;

    onMounted(() => {
      fetchNotifications();
      interval = setInterval(fetchNotifications, 1000);
    });

    onUnmounted(() => {
      if (interval) clearInterval(interval);
    });
    </script>

    <style>
    body {
      font-family: 'Montserrat', sans-serif;
    }
    </style>
